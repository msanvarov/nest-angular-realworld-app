<section class="blog__area pt-80 pb-90">
  <div class="container">
    <div class="row">
      <div class="col-xxl-8 col-xl-8 col-lg-8">
        <div class="mb-10">
          <nav>
            <div
              class="nav nav-tabs justify-content-sm-end"
              id="nav-tab-create"
              role="tablist"
            >
              <button
                class="nav-link active"
                id="nav-single-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-single"
                type="button"
                role="tab"
                aria-controls="nav-single"
                aria-selected="true"
                (click)="handleChangeFeedType('global')"
              >
                Global Feed
              </button>
              <button
                class="nav-link"
                id="nav-multiple-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-multiple"
                type="button"
                role="tab"
                aria-controls="nav-multiple"
                aria-selected="false"
                (click)="handleChangeFeedType('user')"
              >
                Personal Feed
              </button>
            </div>
          </nav>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xxl-8 col-xl-8 col-lg-8">
        <div class="blog__wrapper">
          <div class="row">
            <div
              *ngFor="let article of articles"
              class="col-xxl-6 col-xl-6 col-lg-12 col-md-6"
            >
              <div class="blog__grid-item mb-30">
                <!-- <div class="blog__grid-thumb w-img">
                  <a [routerLink]="['/blog-details']">
                    <img
                      src="https://via.placeholder.com/380x240"
                      alt="placeholder"
                    />
                  </a>
                </div> -->
                <div class="blog__grid-content">
                  <div class="blog__grid-tag">
                    <a [routerLink]="['/article', article.article.slug]">{{
                      article.article.tagList
                    }}</a>
                  </div>

                  <h3 class="blog__grid-title">
                    <a
                      [routerLink]="['/article', article.article.slug]"
                      [innerHTML]="
                        highlightMatches(
                          article.article.title,
                          article.matches,
                          'title'
                        )
                      "
                    ></a>
                  </h3>
                  <!-- <p
                    [innerHTML]="
                      highlightMatches(
                        blog.article.description,
                        blog.matches,
                        'description'
                      )
                    "
                  ></p> -->
                  <p>{{ article.article.description }}</p>
                  <div class="blog__grid-author d-flex align-items-center">
                    <div class="blog__grid-author-thumb mr-10">
                      <a href="#">
                        <!-- Remark: Not unknown but of type UserEntity -->
                        <img src="{{ article.article.author.image }}" alt="" />
                      </a>
                    </div>
                    <div class="blog__grid-author-info">
                      <h4>
                        <a href="#">{{ article.article.author.username }}</a>
                      </h4>
                      <p>
                        {{
                          article.article.createdAt | dateFormat: 'L hh:mm a'
                        }}
                        â€¢ 1 min read
                      </p>
                    </div>
                    <button
                      class="btn btn-primary btn-sm ms-4"
                      (click)="handleFavorite(article.article)"
                    >
                      <i class="fa fa-heart"></i>
                      {{ article.article.favoritesCount }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <starter-articles-pagination
              [currentPage]="currentPage"
              [totalItems]="articlesCount"
              [itemsPerPage]="itemsPerPage"
              (pageChange)="handlePageChange($event)"
            >
            </starter-articles-pagination>
          </div>
        </div>
      </div>
      <div class="col-xxl-4 col-xl-4 col-lg-4">
        <starter-articles-right-nav
          (searchResults)="handleSearchResults($event)"
        ></starter-articles-right-nav>
      </div>
    </div>
  </div>
</section>
