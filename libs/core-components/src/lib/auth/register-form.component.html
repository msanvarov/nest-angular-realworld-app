<!-- breadcrumb area start -->
<section class="breadcrumb__area pt-160 pb-40 p-relative">
  <div class="breadrumb__shape">
    <img
      class="breadcrumb__shape-1"
      src="/assets/img/breadcrumb/breadcrumb-shape-1.png"
      alt="breadcrumb"
    />
  </div>
</section>
<!-- breadcrumb area end -->

<section class="login__area pb-120">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xxl-6 col-xl-6 col-lg-8">
        <div class="login__wrapper">
          <div class="login__shape">
            <!-- <img
              class="login__shape-1"
              src="/assets/img/login/login-person.png"
              alt=""
            /> -->
            <img
              class="login__shape-2"
              src="/assets/img/login/login-shape-1.png"
              alt=""
            />
            <img
              class="login__shape-3"
              src="/assets/img/login/login-shape-2.png"
              alt=""
            />
            <img
              class="login__shape-4"
              src="/assets/img/login/login-shape-3.png"
              alt=""
            />
          </div>
          <div class="login__top text-center">
            <h3>Register</h3>
            <p>
              Part of the Realworld family? <a routerLink="/login">Login</a>
            </p>
          </div>
          <div
            class="alert alert-danger"
            role="alert"
            *ngIf="(error$ | async)?.code === registrationFailedCode"
          >
            {{ (error$ | async)?.message }}
          </div>
          <div class="login__form">
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
              <div class="login__input-box">
                <div class="login__input-title">
                  <h4>Enter username <span>*</span></h4>
                  <div
                    *ngIf="
                      registerForm.controls.username.invalid &&
                      (registerForm.controls.username.dirty ||
                        registerForm.controls.username.touched)
                    "
                    id="validationServerUsernameFeedback"
                    class="text-danger"
                  >
                    Username is required.
                  </div>
                </div>
                <div class="login__input">
                  <input
                    type="text"
                    class="is-invalid"
                    placeholder="Enter a username"
                    [formControl]="registerForm.controls.username"
                    aria-describedby="validationServerUsernameFeedback"
                  />
                  <span class="login__input-icon">
                    <i class="fa-solid fa-user"></i>
                  </span>
                </div>
              </div>
              <div class="login__input-box">
                <div class="login__input-title">
                  <h4>Enter email <span>*</span></h4>
                  <div
                    *ngIf="
                      registerForm.controls.email.invalid &&
                      (registerForm.controls.email.dirty ||
                        registerForm.controls.email.touched)
                    "
                    id="validationServerEmailFeedback"
                    class="text-danger"
                  >
                    Email is required.
                  </div>
                </div>
                <div class="login__input">
                  <input
                    type="text"
                    placeholder="Enter your email"
                    [formControl]="registerForm.controls.email"
                    aria-describedby="validationServerEmailFeedback"
                  />
                  <span class="login__input-icon">
                    <i class="fa-light fa-envelope"></i>
                  </span>
                </div>
              </div>
              <div class="login__input-box">
                <div
                  class="login__input-title d-flex align-items-center justify-content-between"
                >
                  <h4>Password <span>*</span></h4>
                  <div class="forgot-password">
                    <a routerLink="['/forget']">Forgot Password?</a>
                  </div>
                </div>
                <div
                  *ngIf="
                    registerForm.controls.password.invalid &&
                    (registerForm.controls.password.dirty ||
                      registerForm.controls.password.touched)
                  "
                  id="validationServerPasswordFeedback"
                  class="text-danger"
                >
                  Password is required.
                </div>
                <div class="login__input">
                  <input
                    type="text"
                    placeholder="Enter your password"
                    [type]="displayPassword ? 'text' : 'password'"
                    [formControl]="registerForm.controls.password"
                    placeholder="Enter your password"
                    aria-labelledby="validationServerPasswordFeedback"
                  />
                  <span class="login__input-icon">
                    <i class="fa-light fa-lock"></i>
                  </span>
                  <span
                    class="login__input-password-visible"
                    (click)="toggleDisplayPassword()"
                  >
                    <i
                      class="fa-light fa-eye-slash"
                      *ngIf="displayPassword"
                    ></i>

                    <i class="fa-light fa-eye" *ngIf="!displayPassword"></i>
                  </span>
                </div>
              </div>

              <div class="login__btn mb-20">
                <button type="submit" class="tp-btn-4 w-100">
                  <div
                    class="spinner-border"
                    role="status"
                    *ngIf="loading$ | async; else elseBlock"
                  >
                    <span class="sr-only">Loading...</span>
                  </div>
                  <ng-template #elseBlock>Register</ng-template>
                </button>
              </div>
              <div class="login__signup text-center">
                <p>Or register with email</p>
              </div>
              <div class="login__option-wrapper">
                <div class="login__option-item mb-15">
                  <a href="#" class="login__option-btn w-100"
                    ><img src="/assets/img/icon/google.png" alt="" /> Register
                    with Google</a
                  >
                </div>
                <div class="login__option-item">
                  <a href="#" class="login__option-btn w-100"
                    ><img src="/assets/img/icon/facebook.png" alt="" /> Register
                    with Facebook</a
                  >
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
